import { query } from '@/lib/db'; export async function POST(){ const defs=[{name:'Ramadan Day',code:'RAMD',start_time:'09:30',end_time:'16:00',overnight:false,break_minutes:30},{name:'Ramadan Night',code:'RAMN',start_time:'21:00',end_time:'03:00',overnight:true,break_minutes:30}]; for(const s of defs){ await query(`INSERT INTO shifts(name,code,start_time,end_time,overnight,break_minutes,weekly_off,active) VALUES($1,$2,$3,$4,$5,$6,'{5,6}',true) ON CONFLICT (code) DO UPDATE SET name=EXCLUDED.name,start_time=EXCLUDED.start_time,end_time=EXCLUDED.end_time,overnight=EXCLUDED.overnight,break_minutes=EXCLUDED.break_minutes`,[s.name,s.code,s.start_time,s.end_time,s.overnight,s.break_minutes]) } return new Response('Ramadan templates created',{status:200}) }
