import { NextRequest } from 'next/server'; import { query } from '@/lib/db'; export async function GET(req:NextRequest){ const {searchParams}=new URL(req.url); const date=searchParams.get('date'); const {rows}=await query<any>(`SELECT employee_id, work_date, ot_regular_minutes, ot_weekend_minutes, ot_holiday_minutes, ot_regular_amount, ot_weekend_amount, ot_holiday_amount FROM timesheets WHERE work_date=$1 AND status='posted'`,[date]); return new Response(JSON.stringify(rows),{headers:{'Content-Type':'application/json'}}) }
