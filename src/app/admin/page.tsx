'use client'
import { useState } from 'react'
export default function Admin(){ const [period,setPeriod]=useState('202510'); async function run(){ await fetch(`/api/payroll/${period}/calc`,{method:'POST'}) } async function wps(){ const r=await fetch(`/api/wps/${period}/build`); const txt=await r.text(); const a=document.createElement('a'); a.href=URL.createObjectURL(new Blob([txt])); a.download=`WPS_${period}.txt`; a.click() } return (<div style={{padding:24}}><h1>Admin</h1><div style={{display:'flex',gap:8,alignItems:'center'}}><input value={period} onChange={e=>setPeriod(e.target.value)} style={{width:100}}/><button onClick={run}>Run Payroll</button><button onClick={wps}>Build WPS</button> <a href='/admin/shifts'>Shifts</a> <a href='/admin/policy'>Policy</a> <a href='/admin/ot'>OT Approvals</a> <a href='/admin/ot/audit'>OT Audit</a> <a href='/admin/holidays-import'>Holidays Import</a></div></div>) }
